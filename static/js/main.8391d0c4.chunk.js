(this.webpackJsonpsummerblog=this.webpackJsonpsummerblog||[]).push([[0],{55:function(e,t,n){},85:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n(22),s=n.n(c),r=(n(54),n(55),n(23)),o=n(24),i=n(33),l=n(1);var j=function(e){return Object(l.jsxs)(o.a,{className:e.className+"",variant:"light",expand:"md",children:[Object(l.jsx)(o.a.Brand,{href:"#/home",children:Object(l.jsx)("h1",{children:"\u2600\u26f1Blog"})}),Object(l.jsx)(o.a.Toggle,{"aria-controls":"header-navbar"}),Object(l.jsx)(o.a.Collapse,{id:"header-navbar",children:Object(l.jsxs)(i.a,{className:"ml-auto main-navigation",children:[Object(l.jsx)(i.a.Link,{className:"px-3",href:"#/home",children:"Home"}),Object(l.jsx)(i.a.Link,{className:"px-3",href:"#/about",children:"About"})]})})]})},u=n(20),b=n.n(u),m=n(31),d=n(32),h=n.n(d),x="https://summer-blog-api.herokuapp.com/blog/post";function p(){return(p=Object(m.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.get(x);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(){return(O=Object(m.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.get("".concat(x,"/").concat(t,"/comment"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(){return(f=Object(m.a)(b.a.mark((function e(t,n){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.post("".concat(x,"/").concat(t,"/comment"),n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var v=n(38),g=n(7),N=n(19),y=n(28);function w(e,t){e.preventDefault();var n=e.target.elements,a=n.owner,c=n.text;(function(e,t){return f.apply(this,arguments)})(t,{owner:a=a.value,text:c=c.value}).then((function(){window.location.reload()}))}var k=function(e){var t=e.id;return Object(l.jsxs)(N.a,{className:"border-bottom pb-3",onSubmit:function(e){w(e,t)},action:"http://localhost:3000/blog/post/".concat(t,"/comment"),method:"POST",children:[Object(l.jsxs)(N.a.Group,{controlId:"formName",children:[Object(l.jsx)(N.a.Label,{children:"Your name"}),Object(l.jsx)(N.a.Control,{name:"owner",type:"text",required:!0,maxLength:"20",autoComplete:"off"})]}),Object(l.jsxs)(N.a.Group,{controlId:"formMessage",children:[Object(l.jsx)(N.a.Label,{children:"Message"}),Object(l.jsx)(N.a.Control,{name:"text",className:"new-comment-textarea",as:"textarea",required:!0,maxLength:"255",autoComplete:"off"})]}),Object(l.jsx)(y.a,{variant:"primary",type:"submit",children:"Submit"})]})},S=n(16),L=n(21);var C=function(e){var t=Object(g.g)().id,n=Object(a.useState)([]),c=Object(r.a)(n,2),s=c[0],o=c[1],i=Object(a.useState)(!1),j=Object(r.a)(i,2),u=j[0],b=j[1];Object(a.useEffect)((function(){null!=t&&function(e){return O.apply(this,arguments)}(t).then((function(e){o(e.data)})).catch((function(e){e.response.status}))}),[t]);var m=e.posts.find((function(e){return e._id===t}));return Object(l.jsx)(L.a,{className:"d-flex justify-content-center",fluid:!0,children:m&&Object(l.jsxs)("div",{className:"post mt-4",children:[Object(l.jsx)("h1",{children:m.title}),Object(l.jsx)("div",{className:"post-content",dangerouslySetInnerHTML:{__html:m.html}}),Object(l.jsxs)("section",{className:"comments my-5 pt-3 border-top",children:[Object(l.jsx)("header",{children:Object(l.jsx)("h2",{children:"Comments"})}),Object(l.jsx)(y.a,{onClick:function(){b(!u)},className:"new-comment-btn my-3",children:"New Comment"}),u&&Object(l.jsx)(k,{id:t}),Object(l.jsx)("div",{children:s.length>0&&s.map((function(e){return Object(l.jsx)(S.a,{className:"post-summary my-3 w-100 position-relative",children:Object(l.jsxs)(S.a.Body,{className:"pb-4",children:[Object(l.jsx)(S.a.Title,{children:e.owner}),e.text,Object(l.jsx)("div",{className:"text-muted position-absolute comment-time",children:new Date(e.createdAt).toLocaleDateString()})]})},e._id)}))})]})]})})};var T=function(e){var t=e.posts;return Object(l.jsx)(l.Fragment,{children:t&&t.length>0&&t.map((function(e){return Object(l.jsx)("a",{className:"text-reset post-link",href:"#/post/".concat(e._id),children:Object(l.jsx)(S.a,{className:"post-summary my-3 mx-auto",children:Object(l.jsxs)(S.a.Body,{children:[Object(l.jsx)(S.a.Title,{children:e.title}),Object(l.jsx)(S.a.Subtitle,{className:"text-muted",children:new Date(e.createdAt).toLocaleDateString()})]})})},e._id)}))})};var _=function(e){var t=e.posts;return Object(l.jsxs)(L.a,{fluid:!0,children:[Object(l.jsx)("h1",{className:"text-center mt-3",children:"Home"}),Object(l.jsx)("div",{className:"posts-container d-flex flex-column align-items-center",children:Object(l.jsx)(T,{posts:t})})]})};var B=function(e){return Object(l.jsxs)(L.a,{className:"text-center mt-3",fluid:!0,children:[Object(l.jsx)("h1",{children:"About"}),Object(l.jsxs)("p",{children:["Well, what can I say? This is a blog and we're in the summer",Object(l.jsx)("br",{})," (yes, all year round\ud83d\ude1b)"]})]})};var D=function(){var e=Object(a.useState)([]),t=Object(r.a)(e,2),n=t[0],c=t[1];return Object(a.useEffect)((function(){(function(){return p.apply(this,arguments)})().then((function(e){c(e.data)}))}),[]),Object(l.jsxs)(v.a,{children:[Object(l.jsx)(j,{className:"bg-header"}),Object(l.jsxs)(g.d,{children:[Object(l.jsx)(g.b,{path:"/",exact:!0,children:Object(l.jsx)(g.a,{to:"/home"})}),Object(l.jsx)(g.b,{path:"/home",exact:!0,children:Object(l.jsx)(_,{posts:n})}),Object(l.jsx)(g.b,{path:"/about",exact:!0,component:B}),Object(l.jsx)(g.b,{path:"/post/:id",exact:!0,children:Object(l.jsx)(C,{posts:n})})]})]})};s.a.render(Object(l.jsx)(D,{}),document.getElementById("root"))}},[[85,1,2]]]);
//# sourceMappingURL=main.8391d0c4.chunk.js.map