(this.webpackJsonpsummerblog=this.webpackJsonpsummerblog||[]).push([[0],{63:function(e,t,n){},87:function(e,t,n){},97:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n(23),r=n.n(c),s=(n(62),n(63),n(19)),i=n(24),o=n(33),l=n(1);var j=function(e){return Object(l.jsxs)(i.a,{className:e.className+"",variant:"light",expand:"md",children:[Object(l.jsx)(i.a.Brand,{href:"#/home",children:Object(l.jsx)("h1",{children:"\u2600\u26f1Blog"})}),Object(l.jsx)(i.a.Toggle,{"aria-controls":"header-navbar"}),Object(l.jsx)(i.a.Collapse,{id:"header-navbar",children:Object(l.jsxs)(o.a,{className:"ml-auto main-navigation",children:[Object(l.jsx)(o.a.Link,{className:"px-3",href:"#/home",children:"Home"}),Object(l.jsx)(o.a.Link,{className:"px-3",href:"#/about",children:"About"})]})})]})},u=n(21),d=n.n(u),b=n(31),h=n(32),m=n.n(h),x="https://summer-blog-api.herokuapp.com/blog/post";function O(){return(O=Object(b.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.get(x);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(){return(p=Object(b.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.get("".concat(x,"/").concat(t,"/comment"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(){return(f=Object(b.a)(d.a.mark((function e(t,n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.post("".concat(x,"/").concat(t,"/comment"),n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var v=n(40),g=n(7);n(87);var w=function(){return Object(l.jsxs)("div",{className:"lds-roller",children:[Object(l.jsx)("div",{}),Object(l.jsx)("div",{}),Object(l.jsx)("div",{}),Object(l.jsx)("div",{}),Object(l.jsx)("div",{}),Object(l.jsx)("div",{}),Object(l.jsx)("div",{}),Object(l.jsx)("div",{})]})},N=n(20),y=n(28);function S(e,t){e.preventDefault();var n=e.target.elements,a=n.owner,c=n.text;(function(e,t){return f.apply(this,arguments)})(t,{owner:a=a.value,text:c=c.value}).then((function(){window.location.reload()}))}var L=function(e){var t=e.id;return Object(l.jsxs)(N.a,{className:"border-bottom pb-3",onSubmit:function(e){S(e,t)},action:"http://localhost:3000/blog/post/".concat(t,"/comment"),method:"POST",children:[Object(l.jsxs)(N.a.Group,{controlId:"formName",children:[Object(l.jsx)(N.a.Label,{children:"Your name"}),Object(l.jsx)(N.a.Control,{name:"owner",type:"text",required:!0,maxLength:"20",autoComplete:"off"})]}),Object(l.jsxs)(N.a.Group,{controlId:"formMessage",children:[Object(l.jsx)(N.a.Label,{children:"Message"}),Object(l.jsx)(N.a.Control,{name:"text",className:"new-comment-textarea",as:"textarea",required:!0,maxLength:"255",autoComplete:"off"})]}),Object(l.jsx)(y.a,{variant:"primary",type:"submit",children:"Submit"})]})},k=n(16),C=n(22),D=["header","image","embed","list","paragraph"];var T={paragraph:function(e){var t=e.data;return"<p>".concat(t.text,"<p>")},header:function(e){var t=e.data;return"<h".concat(t.level,">").concat(t.text,"</h").concat(t.level,">")},list:function(e){var t=e.data,n="ordered"===t.style?"ol":"ul",a="";return t.items.forEach((function(e){a+="<li>".concat(e,"</li>")})),"<".concat(n,">").concat(a,"</").concat(n,">")},image:function(e){var t=e.data;return'<figure><img src="'.concat(t.url,'"/><figcaption>').concat(t.caption,"</figcaption></figure>")},embed:function(e){var t=e.data;return'<iframe width="'.concat(t.width,'" height="').concat(t.height,'" src="').concat(t.embed,'" frameborder="0" allowfullscreen></iframe>')}};var _=function(e){var t="";return e.forEach((function(e){var n=function(e){if("object"===typeof e&&"id"in e&&"type"in e&&"data"in e&&D.includes(e.type))return T[e.type](e)}(e);t+=n})),t},A=n(44),B=n(41),E=n.n(B),I={whiteList:Object(A.a)(Object(A.a)({},E.a.whiteList),{},{iframe:["width","height","src","frameborder","allowfullscreen"]})},H=function(e){return E()(e,I)};var J=function(e){var t=Object(g.g)().id,n=Object(a.useState)([]),c=Object(s.a)(n,2),r=c[0],i=c[1],o=Object(a.useState)(!1),j=Object(s.a)(o,2),u=j[0],d=j[1],b=Object(a.useState)(null),h=Object(s.a)(b,2),m=h[0],x=h[1],O=Object(a.useState)(""),f=Object(s.a)(O,2),v=f[0],N=f[1],S=e.posts,D=e.loading;return Object(a.useEffect)((function(){if(null!=t&&0!==S.length){var e=S.find((function(e){return e._id===t}));if(null==e)return window.location.hash="#/";x(e);var n=JSON.parse(e.json);N(H(_(n.blocks))),function(e){return p.apply(this,arguments)}(t).then((function(e){i(e.data)})).catch((function(e){e.response.status}))}}),[t,S]),Object(l.jsx)(C.a,{className:"d-flex justify-content-center",fluid:!0,children:m?Object(l.jsxs)("div",{className:"post mt-4",children:[Object(l.jsx)("h1",{children:m.title}),Object(l.jsx)("p",{className:"text-muted",children:new Date(m.createdAt).toLocaleDateString()}),Object(l.jsx)("div",{className:"post-content",dangerouslySetInnerHTML:{__html:v}}),Object(l.jsxs)("section",{className:"comments my-5 pt-3 border-top",children:[Object(l.jsx)("header",{children:Object(l.jsx)("h2",{children:"Comments"})}),Object(l.jsx)(y.a,{onClick:function(){d(!u)},className:"new-comment-btn my-3",children:"New Comment"}),u&&Object(l.jsx)(L,{id:t}),Object(l.jsx)("div",{children:r.length>0&&r.map((function(e){return Object(l.jsx)(k.a,{className:"post-summary my-3 w-100 position-relative",children:Object(l.jsxs)(k.a.Body,{className:"pb-4",children:[Object(l.jsx)(k.a.Title,{children:e.owner}),e.text,Object(l.jsx)("div",{className:"text-muted position-absolute comment-time",children:new Date(e.createdAt).toLocaleDateString()})]})},e._id)}))})]})]}):D?Object(l.jsx)("div",{className:"mt-4",children:Object(l.jsx)(w,{})}):Object(l.jsx)("div",{className:"mt-4",children:"Post was not found."})})};var M=function(e){var t=e.posts;return Object(l.jsx)(l.Fragment,{children:t&&t.length>0&&t.map((function(e){return Object(l.jsx)("a",{className:"text-reset post-link",href:"#/post/".concat(e._id),children:Object(l.jsx)(k.a,{className:"post-summary my-3 mx-auto",children:Object(l.jsxs)(k.a.Body,{children:[Object(l.jsx)(k.a.Title,{children:e.title}),Object(l.jsx)(k.a.Subtitle,{className:"text-muted",children:new Date(e.createdAt).toLocaleDateString()})]})})},e._id)}))})};var q=function(e){var t=e.posts,n=e.loading;return Object(l.jsxs)(C.a,{fluid:!0,children:[Object(l.jsx)("h1",{className:"text-center mt-3",children:"Home"}),Object(l.jsxs)("div",{className:"posts-container d-flex flex-column align-items-center",children:[n&&Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("div",{className:"mt-4",children:Object(l.jsx)(w,{})}),Object(l.jsx)("br",{})]}),t.length>0?Object(l.jsx)(M,{posts:t}):n?"":"Nothing here yet!"]})]})};var F=function(e){return Object(l.jsxs)(C.a,{className:"text-center mt-3",fluid:!0,children:[Object(l.jsx)("h1",{children:"About"}),Object(l.jsxs)("p",{children:["Well, what can I say? This is a blog and we're in the summer",Object(l.jsx)("br",{})," (yes, all year round\ud83d\ude1b)"]})]})};var G=function(){var e=Object(a.useState)([]),t=Object(s.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(!0),i=Object(s.a)(r,2),o=i[0],u=i[1];return Object(a.useEffect)((function(){(function(){return O.apply(this,arguments)})().then((function(e){c(e.data)})).finally((function(){u(!1)}))}),[]),Object(l.jsxs)(v.a,{children:[Object(l.jsx)(j,{className:"bg-header"}),Object(l.jsxs)(g.d,{children:[Object(l.jsx)(g.b,{path:"/",exact:!0,children:Object(l.jsx)(g.a,{to:"/home"})}),Object(l.jsx)(g.b,{path:"/home",exact:!0,children:Object(l.jsx)(q,{posts:n,loading:o})}),Object(l.jsx)(g.b,{path:"/about",exact:!0,component:F}),Object(l.jsx)(g.b,{path:"/post/:id",exact:!0,children:Object(l.jsx)(J,{posts:n,loading:o})})]})]})};r.a.render(Object(l.jsx)(G,{}),document.getElementById("root"))}},[[97,1,2]]]);
//# sourceMappingURL=main.5661ca98.chunk.js.map